<div style="margin: 2% 20% 2% 20%;">
    <div class="row p-2 m-2 border">
        <div class="col-9">
          <h2 class="text-primary">Assigned Course</h2>
        </div>
      </div>
      <div class="border container p-2 m-2">
        <table class="table table-striped table-bordered table-active">
          <thead>
            <tr>
              <th>User Id</th>
              <th>Enrollment Date</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let enrollment of enrollList">
              <td>{{ enrollment.userId }}</td>
              <td>{{ enrollment.enrollmentDate }}</td>
              <td>
                <button class="btn btn-danger m-1" (click)="deleteClick(enrollment.id)" >
                  Remove Student
                </button>
                <button
                class="btn btn-info"
                (click)="editClick(enrollment)"
                data-target="#editModel"
                data-toggle="modal"
              >
                <i class="fa fa-edit"></i>
                Edit Details
              </button>
                <button class="btn btn-danger m-1" 
                data-target="#gradeModel"
                data-toggle="modal"
                (click)="manageGrade(enrollment)"
                >
                  Manage Grades
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

       <!-- Edit User -->
  <div class="modal" tabindex="-1" role="dialog" id="editModel">
    <div class="modal-dialog" role="document">
      <form #form="ngForm" novalidate>
        <div class="modal-content">
          <div class="modal-header bg-info">
            <h5 class="modal-title text-white">Manage Grades</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
  
          <div class="modal-body">

            <div class="form-group row" style="display: none;"> 
              <div class="col-8">
                <input
                  id="txtid"
                  [(ngModel)]="userRecord.id"
                  name="id"
                  type="text"
                  class="form-control"
                  required
                />
              </div>
            </div>

            <!-- First Name -->
            <div class="form-group row">
              <label for="txtname" class="col-4">First Name</label>
              <div class="col-8">
                <input
                  id="txtname"
                  [(ngModel)]="userRecord.firstName"
                  name="firstName"
                  type="text"
                  class="form-control"
                  required
                />
              </div>
            </div>
  
            <!-- Last Name -->
           <div class="form-group row">
              <label for="txtlastname" class="col-4">Last Name</label>
              <div class="col-8">
                <input
                  id="txtlastname"
                  [(ngModel)]="userRecord.lastName"
                  name="lastName"
                  type="text"
                  class="form-control"
                  required
                />
              </div>
            </div>
         
            <!-- Email -->
            <div class="form-group row">
              <label for="txtemail" class="col-4">Email</label>
              <div class="col-8">
                <input
                  id="txtemail"
                  [(ngModel)]="userRecord.email"
                  name="email"
                  type="email"
                  class="form-control"
                  required
                />
              </div>
            </div>
  
            <!-- Gender -->
            <div class="form-group row">
              <label class="col-4">Gender</label>
              <div class="col-8 d-flex">
                <div class="form-check mr-3">
                  <input
                    class="form-check-input"
                    type="radio"
                    [(ngModel)]="userRecord.gender"
                    name="gender"
                    value="Male"
                    id="genderMale"
                    required
                  />
                  <label class="form-check-label" for="genderMale">Male</label>
                </div>
                <div class="form-check">
                  <input
                    class="form-check-input"
                    type="radio"
                    [(ngModel)]="userRecord.gender"
                    name="gender"
                    value="Female"
                    id="genderFemale"
                    required
                  />
                  <label class="form-check-label" for="genderFemale">Female</label>
                </div>
              </div>
            </div>
  
            <!-- Phone Number -->
            <div class="form-group row">
              <label for="txtphone" class="col-4">Phone Number</label>
              <div class="col-8">
                <input
                  id="txtphone"
                  [(ngModel)]="userRecord.phoneNumber"
                  name="phone"
                  type="text"
                  class="form-control"
                  required
                />
              </div>
            </div>
  
            <!-- Role -->
            <div class="form-group row" style="display: none;">
              <label for="role" class="col-4">Role</label>
              <div class="col-8">
                <select
                  id="role"
                  [(ngModel)]="userRecord.role"
                  name="role"
                  class="form-control"
                  required
                >
                  <option value="" disabled selected>Select Role</option>
                  <option *ngFor="let role of roles" [value]="role.id">
                    {{ role.role1 }}
                  </option>
                </select>
              </div>
            </div>
         
            <!-- Password -->
            <div class="form-group row">
              <label for="txtpassword" class="col-4">Password</label>
              <div class="col-8">
                <input
                  id="txtpassword"
                  [(ngModel)]="userRecord.password"
                  name="password"
                  type="password"
                  class="form-control"
                  required
                />
              </div>
            </div>
          </div>
  
          <!-- Modal Footer -->
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-primary"
              (click)="updateClick()"
              [disabled]="!form.valid"
              data-dismiss="modal"
            >
             Save changes
            </button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">
              Close
            </button>
          </div>
        </div>
      </form>
    </div>
</div>

<!-- Manage Grades -->
<div class="modal" tabindex="-1" role="dialog" id="gradeModel">
  <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header bg-info">
          <h5 class="modal-title text-white">Manage Grades</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
         <div class="form-group row" style="display: none;">
            <div class="col-8">
              <input
                id="txtid"
                [(ngModel)]="userEnrollment.userId"
                name="id"
                type="text"
                class="form-control"
                required
              />
            </div>
          </div>

          <!-- Grades -->
          <div class="form-group row">
            <label class="col-4">Grades</label>
            <div class="col-8 d-flex">
              <div class="form-check mr-3">
                <input
                  class="form-check-input"
                  type="radio"
                  [(ngModel)]="userGrade.grade1"
                  name="grade"
                  value="A"
                  id="gradeA"
                  required
                />
                <label class="form-check-label" for="gradeA">A</label>
              </div>
              <div class="form-check mr-3">
                <input
                  class="form-check-input"
                  type="radio"
                  [(ngModel)]="userGrade.grade1"
                  name="grade"
                  value="B"
                  id="gradeB"
                  required
                />
                <label class="form-check-label" for="gradeB">B</label>
              </div>
              <div class="form-check mr-3">
                <input
                  class="form-check-input"
                  type="radio"
                  [(ngModel)]="userGrade.grade1"
                  name="grade"
                  value="C"
                  id="gradeC"
                  required
                />
                <label class="form-check-label" for="gradeC">C</label>
              </div>
              <div class="form-check mr-3">
                <input
                  class="form-check-input"
                  type="radio"
                  [(ngModel)]="userGrade.grade1"
                  name="grade"
                  value="D"
                  id="gradeD"
                  required
                />
                <label class="form-check-label" for="gradeD">D</label>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal Footer -->
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-primary"
            (click)="gradesClick(userEnrollment.userId, userGrade.grade1, userGrade.enrollmentId)"
            data-dismiss="modal"
          >
           Save changes
          </button>
          <button type="button" class="btn btn-secondary" data-dismiss="modal">
            Close
          </button>
        </div>
      </div>
  </div>